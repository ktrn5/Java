import java.util.Scanner;

public class Main {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        System.out.print("Enter the path to file (file should ends with '.txt': ");
        //'C:\\Users\\user\\IdeaProjects\\churkinaTask2\\src\\try.txt'
        String current_file = scanner.nextLine();

         // check whether it is .txt
        if (!current_file.endsWith(".txt")) {
            throw new IllegalArgumentException("Error, file should ends with .txt");
        }
        FileProcessor fileProcessor = new FileProcessor(current_file);

        try {
            // check whether the file exists and is possible to read
            if (fileProcessor.exists()) {
                if (fileProcessor.canRead()) {
                    fileProcessor.processFile(); // everything's fine --> programme starts
                }
                else {
                    System.out.println("It is impossible to read the file");
                }
            }
            else {
                System.out.println("File was not found: " + current_file);
            }
        }
        catch (Exception e) {
            System.out.println("Error " + e.getMessage());
        }
        finally {
            scanner.close();
        }
    }
}
